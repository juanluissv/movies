{"ast":null,"code":"import { MOVIES_LIST_FAIL, MOVIES_LIST_SUCCESS, MOVIES_LIST_REQUEST, MOVIES_DETAILS_REQUEST, MOVIES_DETAILS_SUCCESS, MOVIES_DETAILS_FAIL, SEARCH_MOVIE_REQUEST, SEARCH_MOVIE_SUCCESS, SEARCH_MOVIE_FAIL, GENDER_LIST_REQUEST, GENDER_LIST_SUCCESS, GENDER_LIST_FAIL, ADD_MOVIE_FAVORITE_REQUEST, ADD_MOVIE_FAVORITE_SUCCESS, ADD_MOVIE_FAVORITE_FAIL, LIST_MOVIE_FAVORITE_REQUEST, LIST_MOVIE_FAVORITE_SUCCESS, LIST_MOVIE_FAVORITE_FAIL, REMOVE_MOVIE_FAVORITE_REQUEST, REMOVE_MOVIE_FAVORITE_SUCCESS, REMOVE_MOVIE_FAVORITE_FAIL } from '../constants/movieConstants';\nimport axios from 'axios';\nexport const listMovies = () => async dispatch => {\n  try {\n    dispatch({\n      type: MOVIES_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=805be512078ad6fc74aec232fda73689&language=en-US&page=1&include_adult=false`);\n    dispatch({\n      type: MOVIES_LIST_SUCCESS,\n      payload: data.results\n    });\n  } catch (error) {\n    dispatch({\n      type: MOVIES_LIST_FAIL,\n      payload: error.response\n    });\n  }\n};\nexport const listMovieDetails = id => async dispatch => {\n  try {\n    dispatch({\n      type: MOVIES_DETAILS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=805be512078ad6fc74aec232fda73689&language=en-US`);\n    dispatch({\n      type: MOVIES_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: MOVIES_DETAILS_FAIL,\n      payload: error.response\n    });\n  }\n};\nexport const searchMovie = title => async dispatch => {\n  try {\n    dispatch({\n      type: SEARCH_MOVIE_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=805be512078ad6fc74aec232fda73689&language=en-US&query=${title}`);\n    dispatch({\n      type: SEARCH_MOVIE_SUCCESS,\n      payload: data.results\n    });\n  } catch (error) {\n    dispatch({\n      type: SEARCH_MOVIE_FAIL,\n      payload: error.response\n    });\n  }\n};\nexport const addMovieFavorites = movie => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: ADD_MOVIE_FAVORITE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.post('/api/favorites', movie, config);\n    dispatch({\n      type: ADD_MOVIE_FAVORITE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ADD_MOVIE_FAVORITE_FAIL,\n      payload: error.response\n    });\n  }\n};\nexport const removeMovieFavorites = id => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: REMOVE_MOVIE_FAVORITE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.delete(`/api/favorites/myfavorites/${id}`, config);\n    dispatch({\n      type: REMOVE_MOVIE_FAVORITE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: REMOVE_MOVIE_FAVORITE_FAIL,\n      payload: error.response\n    });\n  }\n};\nexport const listMyFavorites = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: LIST_MOVIE_FAVORITE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.get('/api/favorites/myfavorites', config);\n    dispatch({\n      type: LIST_MOVIE_FAVORITE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: LIST_MOVIE_FAVORITE_FAIL,\n      payload: error.response\n    });\n  }\n};\nexport const genderListMovies = gender => async dispatch => {\n  try {\n    dispatch({\n      type: GENDER_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`https://api.themoviedb.org/3/discover/movie?api_key=805be512078ad6fc74aec232fda73689&with_genres=${gender}&language=en-US`);\n    dispatch({\n      type: GENDER_LIST_SUCCESS,\n      payload: data.results\n    });\n  } catch (error) {\n    dispatch({\n      type: GENDER_LIST_FAIL,\n      payload: error.response\n    });\n  }\n};","map":{"version":3,"names":["MOVIES_LIST_FAIL","MOVIES_LIST_SUCCESS","MOVIES_LIST_REQUEST","MOVIES_DETAILS_REQUEST","MOVIES_DETAILS_SUCCESS","MOVIES_DETAILS_FAIL","SEARCH_MOVIE_REQUEST","SEARCH_MOVIE_SUCCESS","SEARCH_MOVIE_FAIL","GENDER_LIST_REQUEST","GENDER_LIST_SUCCESS","GENDER_LIST_FAIL","ADD_MOVIE_FAVORITE_REQUEST","ADD_MOVIE_FAVORITE_SUCCESS","ADD_MOVIE_FAVORITE_FAIL","LIST_MOVIE_FAVORITE_REQUEST","LIST_MOVIE_FAVORITE_SUCCESS","LIST_MOVIE_FAVORITE_FAIL","REMOVE_MOVIE_FAVORITE_REQUEST","REMOVE_MOVIE_FAVORITE_SUCCESS","REMOVE_MOVIE_FAVORITE_FAIL","axios","listMovies","dispatch","type","data","get","payload","results","error","response","listMovieDetails","id","searchMovie","title","addMovieFavorites","movie","getState","userLogin","userInfo","config","headers","Authorization","token","post","removeMovieFavorites","delete","listMyFavorites","genderListMovies","gender"],"sources":["/Users/juanluissv/Desktop/movies/frontend/src/actions/movieActions.js"],"sourcesContent":["import { MOVIES_LIST_FAIL, \n         MOVIES_LIST_SUCCESS, \n         MOVIES_LIST_REQUEST,\n         MOVIES_DETAILS_REQUEST,\n         MOVIES_DETAILS_SUCCESS,\n         MOVIES_DETAILS_FAIL,\n         SEARCH_MOVIE_REQUEST,\n         SEARCH_MOVIE_SUCCESS,\n         SEARCH_MOVIE_FAIL,\n         GENDER_LIST_REQUEST,\n         GENDER_LIST_SUCCESS,\n         GENDER_LIST_FAIL,      \n         ADD_MOVIE_FAVORITE_REQUEST,\n         ADD_MOVIE_FAVORITE_SUCCESS,\n         ADD_MOVIE_FAVORITE_FAIL,\n         LIST_MOVIE_FAVORITE_REQUEST,\n         LIST_MOVIE_FAVORITE_SUCCESS,\n         LIST_MOVIE_FAVORITE_FAIL,\n         REMOVE_MOVIE_FAVORITE_REQUEST,\n         REMOVE_MOVIE_FAVORITE_SUCCESS,\n         REMOVE_MOVIE_FAVORITE_FAIL\n} from '../constants/movieConstants';\nimport axios from 'axios';\n\nexport const listMovies = () => async (dispatch) => {\n    try {\n        dispatch({\n            type: MOVIES_LIST_REQUEST\n        })\n        \n        const { data } = await axios.get(`https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=805be512078ad6fc74aec232fda73689&language=en-US&page=1&include_adult=false`)\n\n        dispatch({\n            type: MOVIES_LIST_SUCCESS,\n            payload: data.results\n        })\n\n    } catch (error) {\n        dispatch({\n            type: MOVIES_LIST_FAIL,\n            payload: error.response\n        })\n\n    }\n}\n\nexport const listMovieDetails = (id) => async (dispatch) => {\n    try {\n        dispatch({\n            type: MOVIES_DETAILS_REQUEST\n        })\n\n        const { data } = await axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=805be512078ad6fc74aec232fda73689&language=en-US`)\n\n        dispatch({\n            type: MOVIES_DETAILS_SUCCESS,\n            payload: data\n        })\n    } catch (error) {\n        dispatch({\n            type: MOVIES_DETAILS_FAIL,\n            payload: error.response\n        })\n    }\n}\n\n\nexport const searchMovie = (title) => async (dispatch) => {\n    try {\n        dispatch({\n            type: SEARCH_MOVIE_REQUEST\n        })\n        \n        const { data } = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=805be512078ad6fc74aec232fda73689&language=en-US&query=${title}`)\n        \n        dispatch({\n            type: SEARCH_MOVIE_SUCCESS,\n            payload: data.results\n        })\n\n    } catch (error) {\n        dispatch({\n            type: SEARCH_MOVIE_FAIL,\n            payload: error.response\n        })\n\n    }\n}\n\n\n\nexport const  addMovieFavorites = (movie) => async(dispatch, getState) => {\n\n    try {\n        dispatch({\n            type: ADD_MOVIE_FAVORITE_REQUEST\n        })\n\n        const { userLogin: { userInfo } } = getState()\n\n        const config = {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${userInfo.token}`\n            }\n        }\n\n        const { data } = await axios.post('/api/favorites', movie, config)\n\n        dispatch({\n            type: ADD_MOVIE_FAVORITE_SUCCESS,\n            payload: data,\n        })\n            \n    } catch(error) {\n        dispatch({\n            type: ADD_MOVIE_FAVORITE_FAIL,\n            payload: error.response\n        })\n    }\n}\n\n\n\nexport const removeMovieFavorites = (id) => async(dispatch, getState) => {\n    try{\n        dispatch({\n            type: REMOVE_MOVIE_FAVORITE_REQUEST\n        })\n\n        const { userLogin: { userInfo } } = getState()\n\n        const config = {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${userInfo.token}`\n            }\n        }\n\n        const { data } = await axios.delete(`/api/favorites/myfavorites/${id}`, config)\n\n        dispatch({\n            type: REMOVE_MOVIE_FAVORITE_SUCCESS,\n            payload: data,\n        })\n\n    } catch (error) {\n        dispatch({\n            type: REMOVE_MOVIE_FAVORITE_FAIL,\n            payload: error.response\n        })\n\n    }\n}\n\n\n\nexport const listMyFavorites = () => async(dispatch, getState) => {\n    try {\n        dispatch({\n            type: LIST_MOVIE_FAVORITE_REQUEST\n        })\n\n        const { userLogin: { userInfo } } = getState()\n\n        const config = {\n            headers: {\n                Authorization: `Bearer ${userInfo.token}`\n            }\n        }\n\n        const { data } = await axios.get('/api/favorites/myfavorites', config)\n\n        dispatch({\n            type: LIST_MOVIE_FAVORITE_SUCCESS,\n            payload: data \n        })\n\n    } catch (error) {\n        dispatch({\n            type: LIST_MOVIE_FAVORITE_FAIL,\n            payload: error.response\n        })\n    }\n}\n\n\n\n\n\nexport const genderListMovies = (gender) => async (dispatch) => {\n    try {\n        dispatch({\n            type: GENDER_LIST_REQUEST\n        })\n\n        const { data } = await axios.get(`https://api.themoviedb.org/3/discover/movie?api_key=805be512078ad6fc74aec232fda73689&with_genres=${gender}&language=en-US`)\n\n        dispatch({\n            type: GENDER_LIST_SUCCESS,\n            payload: data.results\n        })\n    } catch (error) {\n        dispatch({\n            type: GENDER_LIST_FAIL,\n            payload: error.response\n        })\n    }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}