{"ast":null,"code":"import{MOVIES_LIST_FAIL,MOVIES_LIST_SUCCESS,MOVIES_LIST_REQUEST,MOVIES_DETAILS_REQUEST,MOVIES_DETAILS_SUCCESS,MOVIES_DETAILS_FAIL,SEARCH_MOVIE_REQUEST,SEARCH_MOVIE_SUCCESS,SEARCH_MOVIE_FAIL,GENDER_LIST_REQUEST,GENDER_LIST_SUCCESS,GENDER_LIST_FAIL,ADD_MOVIE_FAVORITE_REQUEST,ADD_MOVIE_FAVORITE_SUCCESS,ADD_MOVIE_FAVORITE_FAIL,LIST_MOVIE_FAVORITE_REQUEST,LIST_MOVIE_FAVORITE_SUCCESS,LIST_MOVIE_FAVORITE_FAIL,REMOVE_MOVIE_FAVORITE_REQUEST,REMOVE_MOVIE_FAVORITE_SUCCESS,REMOVE_MOVIE_FAVORITE_FAIL}from'../constants/movieConstants';import axios from'axios';export const listMovies=()=>async dispatch=>{try{dispatch({type:MOVIES_LIST_REQUEST});const{data}=await axios.get(\"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=805be512078ad6fc74aec232fda73689&language=en-US&page=1&include_adult=false\");dispatch({type:MOVIES_LIST_SUCCESS,payload:data.results});}catch(error){dispatch({type:MOVIES_LIST_FAIL,payload:error.response});}};export const listMovieDetails=id=>async dispatch=>{try{dispatch({type:MOVIES_DETAILS_REQUEST});const{data}=await axios.get(\"https://api.themoviedb.org/3/movie/\".concat(id,\"?api_key=805be512078ad6fc74aec232fda73689&language=en-US\"));dispatch({type:MOVIES_DETAILS_SUCCESS,payload:data});}catch(error){dispatch({type:MOVIES_DETAILS_FAIL,payload:error.response});}};export const searchMovie=title=>async dispatch=>{try{dispatch({type:SEARCH_MOVIE_REQUEST});const{data}=await axios.get(\"https://api.themoviedb.org/3/search/movie?api_key=805be512078ad6fc74aec232fda73689&language=en-US&query=\".concat(title));dispatch({type:SEARCH_MOVIE_SUCCESS,payload:data.results});}catch(error){dispatch({type:SEARCH_MOVIE_FAIL,payload:error.response});}};export const addMovieFavorites=movie=>async(dispatch,getState)=>{try{dispatch({type:ADD_MOVIE_FAVORITE_REQUEST});const{userLogin:{userInfo}}=getState();const config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};const{data}=await axios.post('/api/favorites',movie,config);dispatch({type:ADD_MOVIE_FAVORITE_SUCCESS,payload:data});}catch(error){dispatch({type:ADD_MOVIE_FAVORITE_FAIL,payload:error.response});}};export const removeMovieFavorites=id=>async(dispatch,getState)=>{try{dispatch({type:REMOVE_MOVIE_FAVORITE_REQUEST});const{userLogin:{userInfo}}=getState();const config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};const{data}=await axios.delete(\"/api/favorites/myfavorites/\".concat(id),config);dispatch({type:REMOVE_MOVIE_FAVORITE_SUCCESS,payload:data});}catch(error){dispatch({type:REMOVE_MOVIE_FAVORITE_FAIL,payload:error.response});}};export const listMyFavorites=()=>async(dispatch,getState)=>{try{dispatch({type:LIST_MOVIE_FAVORITE_REQUEST});const{userLogin:{userInfo}}=getState();const config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};const{data}=await axios.get('/api/favorites/myfavorites',config);dispatch({type:LIST_MOVIE_FAVORITE_SUCCESS,payload:data});}catch(error){dispatch({type:LIST_MOVIE_FAVORITE_FAIL,payload:error.response});}};export const genderListMovies=gender=>async dispatch=>{try{dispatch({type:GENDER_LIST_REQUEST});const{data}=await axios.get(\"https://api.themoviedb.org/3/discover/movie?api_key=805be512078ad6fc74aec232fda73689&with_genres=\".concat(gender,\"&language=en-US\"));dispatch({type:GENDER_LIST_SUCCESS,payload:data.results});}catch(error){dispatch({type:GENDER_LIST_FAIL,payload:error.response});}};","map":{"version":3,"names":["MOVIES_LIST_FAIL","MOVIES_LIST_SUCCESS","MOVIES_LIST_REQUEST","MOVIES_DETAILS_REQUEST","MOVIES_DETAILS_SUCCESS","MOVIES_DETAILS_FAIL","SEARCH_MOVIE_REQUEST","SEARCH_MOVIE_SUCCESS","SEARCH_MOVIE_FAIL","GENDER_LIST_REQUEST","GENDER_LIST_SUCCESS","GENDER_LIST_FAIL","ADD_MOVIE_FAVORITE_REQUEST","ADD_MOVIE_FAVORITE_SUCCESS","ADD_MOVIE_FAVORITE_FAIL","LIST_MOVIE_FAVORITE_REQUEST","LIST_MOVIE_FAVORITE_SUCCESS","LIST_MOVIE_FAVORITE_FAIL","REMOVE_MOVIE_FAVORITE_REQUEST","REMOVE_MOVIE_FAVORITE_SUCCESS","REMOVE_MOVIE_FAVORITE_FAIL","axios","listMovies","dispatch","type","data","get","payload","results","error","response","listMovieDetails","id","concat","searchMovie","title","addMovieFavorites","movie","getState","userLogin","userInfo","config","headers","Authorization","token","post","removeMovieFavorites","delete","listMyFavorites","genderListMovies","gender"],"sources":["/Users/juanluissv/Desktop/movies/frontend/src/actions/movieActions.js"],"sourcesContent":["import { MOVIES_LIST_FAIL, \n         MOVIES_LIST_SUCCESS, \n         MOVIES_LIST_REQUEST,\n         MOVIES_DETAILS_REQUEST,\n         MOVIES_DETAILS_SUCCESS,\n         MOVIES_DETAILS_FAIL,\n         SEARCH_MOVIE_REQUEST,\n         SEARCH_MOVIE_SUCCESS,\n         SEARCH_MOVIE_FAIL,\n         GENDER_LIST_REQUEST,\n         GENDER_LIST_SUCCESS,\n         GENDER_LIST_FAIL,      \n         ADD_MOVIE_FAVORITE_REQUEST,\n         ADD_MOVIE_FAVORITE_SUCCESS,\n         ADD_MOVIE_FAVORITE_FAIL,\n         LIST_MOVIE_FAVORITE_REQUEST,\n         LIST_MOVIE_FAVORITE_SUCCESS,\n         LIST_MOVIE_FAVORITE_FAIL,\n         REMOVE_MOVIE_FAVORITE_REQUEST,\n         REMOVE_MOVIE_FAVORITE_SUCCESS,\n         REMOVE_MOVIE_FAVORITE_FAIL\n} from '../constants/movieConstants';\nimport axios from 'axios';\n\nexport const listMovies = () => async (dispatch) => {\n    try {\n        dispatch({\n            type: MOVIES_LIST_REQUEST\n        })\n        \n        const { data } = await axios.get(`https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=805be512078ad6fc74aec232fda73689&language=en-US&page=1&include_adult=false`)\n\n        dispatch({\n            type: MOVIES_LIST_SUCCESS,\n            payload: data.results\n        })\n\n    } catch (error) {\n        dispatch({\n            type: MOVIES_LIST_FAIL,\n            payload: error.response\n        })\n\n    }\n}\n\nexport const listMovieDetails = (id) => async (dispatch) => {\n    try {\n        dispatch({\n            type: MOVIES_DETAILS_REQUEST\n        })\n\n        const { data } = await axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=805be512078ad6fc74aec232fda73689&language=en-US`)\n\n        dispatch({\n            type: MOVIES_DETAILS_SUCCESS,\n            payload: data\n        })\n    } catch (error) {\n        dispatch({\n            type: MOVIES_DETAILS_FAIL,\n            payload: error.response\n        })\n    }\n}\n\n\nexport const searchMovie = (title) => async (dispatch) => {\n    try {\n        dispatch({\n            type: SEARCH_MOVIE_REQUEST\n        })\n        \n        const { data } = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=805be512078ad6fc74aec232fda73689&language=en-US&query=${title}`)\n        \n        dispatch({\n            type: SEARCH_MOVIE_SUCCESS,\n            payload: data.results\n        })\n\n    } catch (error) {\n        dispatch({\n            type: SEARCH_MOVIE_FAIL,\n            payload: error.response\n        })\n\n    }\n}\n\n\nexport const  addMovieFavorites = (movie) => async(dispatch, getState) => {\n\n    try {\n        dispatch({\n            type: ADD_MOVIE_FAVORITE_REQUEST\n        })\n\n        const { userLogin: { userInfo } } = getState()\n\n        const config = {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${userInfo.token}`\n            }\n        }\n\n        const { data } = await axios.post('/api/favorites', movie, config)\n\n        dispatch({\n            type: ADD_MOVIE_FAVORITE_SUCCESS,\n            payload: data,\n        })\n            \n    } catch(error) {\n        dispatch({\n            type: ADD_MOVIE_FAVORITE_FAIL,\n            payload: error.response\n        })\n    }\n}\n\n\nexport const removeMovieFavorites = (id) => async(dispatch, getState) => {\n    try{\n        dispatch({\n            type: REMOVE_MOVIE_FAVORITE_REQUEST\n        })\n\n        const { userLogin: { userInfo } } = getState()\n\n        const config = {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${userInfo.token}`\n            }\n        }\n\n        const { data } = await axios.delete(`/api/favorites/myfavorites/${id}`, config)\n\n        dispatch({\n            type: REMOVE_MOVIE_FAVORITE_SUCCESS,\n            payload: data,\n        })\n\n    } catch (error) {\n        dispatch({\n            type: REMOVE_MOVIE_FAVORITE_FAIL,\n            payload: error.response\n        })\n\n    }\n}\n\nexport const listMyFavorites = () => async(dispatch, getState) => {\n    try {\n        dispatch({\n            type: LIST_MOVIE_FAVORITE_REQUEST\n        })\n\n        const { userLogin: { userInfo } } = getState()\n\n        const config = {\n            headers: {\n                Authorization: `Bearer ${userInfo.token}`\n            }\n        }\n\n        const { data } = await axios.get('/api/favorites/myfavorites', config)\n\n        dispatch({\n            type: LIST_MOVIE_FAVORITE_SUCCESS,\n            payload: data \n        })\n\n    } catch (error) {\n        dispatch({\n            type: LIST_MOVIE_FAVORITE_FAIL,\n            payload: error.response\n        })\n    }\n}\n\n\nexport const genderListMovies = (gender) => async (dispatch) => {\n    try {\n        dispatch({\n            type: GENDER_LIST_REQUEST\n        })\n\n        const { data } = await axios.get(`https://api.themoviedb.org/3/discover/movie?api_key=805be512078ad6fc74aec232fda73689&with_genres=${gender}&language=en-US`)\n\n        dispatch({\n            type: GENDER_LIST_SUCCESS,\n            payload: data.results\n        })\n    } catch (error) {\n        dispatch({\n            type: GENDER_LIST_FAIL,\n            payload: error.response\n        })\n    }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}