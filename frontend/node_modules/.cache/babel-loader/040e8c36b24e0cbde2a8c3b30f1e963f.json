{"ast":null,"code":"import _slicedToArray from\"/Users/juanluissv/Desktop/movies/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Form,Button,Row,Col,Table}from'react-bootstrap';import{LinkContainer}from'react-router-bootstrap';import{useDispatch,useSelector}from'react-redux';import Loader from'../components/Loader';import{getUserDetails,logout}from'../actions/userActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(_ref){var location=_ref.location,history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var dispatch=useDispatch();var userDetails=useSelector(function(state){return state.userDetails;});var loading=userDetails.loading,user=userDetails.user;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){if(!userInfo){history.push('/login');}else{if(!user.name){dispatch(getUserDetails());}else{setName(user.name);setEmail(user.email);}}},[dispatch,history,userInfo,user]);var logoutHandler=function logoutHandler(){dispatch(logout());history.push('/login');};return/*#__PURE__*/_jsxs(\"div\",{className:\"registerForm\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Profile\"}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"name\",placeholder:\"Enter name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"info\",className:\"logoutButton\",onClick:logoutHandler,children:\"Logout\"})]});};export default Profile;","map":{"version":3,"sources":["/Users/juanluissv/Desktop/movies/frontend/src/components/Profile.js"],"names":["React","useState","useEffect","Form","Button","Row","Col","Table","LinkContainer","useDispatch","useSelector","Loader","getUserDetails","logout","Profile","location","history","name","setName","email","setEmail","dispatch","userDetails","state","loading","user","userLogin","userInfo","push","logoutHandler","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { Form, Button, Row, Col, Table } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loader from '../components/Loader';\nimport { getUserDetails, logout } from '../actions/userActions';\n\n\nconst Profile = ({location, history}) => {\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n\n    const dispatch = useDispatch()\n\n    const userDetails = useSelector((state) => state.userDetails)\n    const { loading, user } = userDetails\n\n    const userLogin = useSelector((state) => state.userLogin)\n    const { userInfo } = userLogin\n\n    useEffect(() => {\n        if(!userInfo) {\n            history.push('/login')\n        } else {\n            if(!user.name) {\n                dispatch(getUserDetails())\n            } else {\n                setName(user.name)\n                setEmail(user.email)\n            }\n        }\n    }, [dispatch, history, userInfo, user])\n\n\n    const logoutHandler = () => {\n        dispatch(logout())\n        history.push('/login')\n    }\n\n    \n\n    return (\n        <div className=\"registerForm\">\n        <h2>User Profile</h2>\n            <Form>\n                <Form.Group controlId='name'>\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control\n                        type='name'\n                        placeholder='Enter name'\n                        value={name}\n                        onChange={(e) => setName(e.target.value)}\n                    ></Form.Control>\n                </Form.Group>\n                <Form.Group controlId='email'>\n                    <Form.Label>Email</Form.Label>\n                    <Form.Control\n                        type='email'\n                        placeholder='Enter email'\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    ></Form.Control>\n                </Form.Group>\n            </Form>\n\n                <Button type='submit' variant='info' className='logoutButton' onClick={logoutHandler}>\n                    Logout\n                </Button>\n\n        </div>\n\n    )\n}\n\nexport default Profile"]},"metadata":{},"sourceType":"module"}