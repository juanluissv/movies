{"ast":null,"code":"var _jsxFileName = \"/Users/juanluissv/Desktop/movies/frontend/src/components/Movie.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport Loader from './Loader';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap';\nimport { listMovieDetails, addMovieFavorites, removeMovieFavorites, listMyFavorites } from '../actions/movieActions';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Movie = ({\n  match\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  let inFavorites;\n  let newTitle;\n  const movieDetails = useSelector(state => state.movieDetails);\n  const {\n    movie,\n    loading\n  } = movieDetails;\n  console.log(movie);\n  const MovieFavorites = useSelector(state => state.listMyFavorites);\n  const {\n    favoriteMovies,\n    loading2\n  } = MovieFavorites;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  useEffect(() => {\n    if (!userInfo) {\n      history.push('/login');\n    }\n  }, [history, userInfo]);\n  useEffect(() => {\n    dispatch(listMovieDetails(match.params.id));\n    dispatch(listMyFavorites());\n  }, [dispatch, match]);\n  const addMovie = mymovie => {\n    const mymovie2 = {\n      id: match.params.id,\n      poster_path: movie.poster_path\n    };\n    dispatch(addMovieFavorites(mymovie2));\n    history.push('/favorites');\n  };\n  const removeMovie = id => {\n    dispatch(removeMovieFavorites(id));\n    history.push('/favorites');\n  };\n  if (loading2 == false) {\n    for (const iterator of favoriteMovies) {\n      if (iterator.id == match.params.id) {\n        inFavorites = true;\n        break;\n      } else {\n        inFavorites = false;\n      }\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Image, {\n          src: `https://image.tmdb.org/t/p/original/${movie.poster_path}`,\n          fluid: true,\n          className: \"movieImage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"movieDetailTitle\",\n          children: movie.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"movieDetailDescription\",\n          children: movie.overview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"movieDetailDescription\",\n          children: [\"Rating: \", movie.vote_average]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"movieDetailDescription\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            target: \"_blank\",\n            href: `https://www.youtube.com/results?search_query=${movie.title}+trailer`,\n            children: \"Trailer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this), inFavorites ? /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => removeMovie(movie.id),\n          className: \"btn btn-primary btn-lg favButton2\",\n          children: \"Remove from Favorites\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => addMovie(movie),\n          className: \"btn btn-primary btn-lg favButton\",\n          children: \"Add To Favorites\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(Movie, \"rZqsidAr1Zv2b6jDd3xDTxTPUmc=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector, useSelector];\n});\n_c = Movie;\nexport default Movie;\nvar _c;\n$RefreshReg$(_c, \"Movie\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","Loader","useDispatch","useSelector","Row","Col","Image","ListGroup","Card","Button","Form","listMovieDetails","addMovieFavorites","removeMovieFavorites","listMyFavorites","jsxDEV","_jsxDEV","Fragment","_Fragment","Movie","match","_s","dispatch","navigate","inFavorites","newTitle","movieDetails","state","movie","loading","console","log","MovieFavorites","favoriteMovies","loading2","userLogin","userInfo","history","push","params","id","addMovie","mymovie","mymovie2","poster_path","removeMovie","iterator","children","fileName","_jsxFileName","lineNumber","columnNumber","md","src","fluid","className","title","overview","vote_average","target","href","onClick","_c","$RefreshReg$"],"sources":["/Users/juanluissv/Desktop/movies/frontend/src/components/Movie.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport Loader from './Loader'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap';\nimport { listMovieDetails, addMovieFavorites, removeMovieFavorites, listMyFavorites } from '../actions/movieActions';\n\nconst Movie = ({match}) => {\n\n    const dispatch = useDispatch()\n    const navigate = useNavigate();\n\n    let inFavorites;\n    let newTitle;\n    \n    const movieDetails = useSelector(state => state.movieDetails);\n    const { movie, loading } = movieDetails;\n\n    console.log(movie);\n\n    const MovieFavorites = useSelector(state => state.listMyFavorites)\n    const { favoriteMovies, loading2 } = MovieFavorites\n\n    const userLogin = useSelector((state) => state.userLogin)\n    const { userInfo } = userLogin\n\n    useEffect(() => {\n        if(!userInfo) {\n            history.push('/login')\n        }\n    }, [history, userInfo])\n    \n\n    useEffect(() => {         \n        dispatch(listMovieDetails(match.params.id))\n        dispatch(listMyFavorites())          \n    },[dispatch, match])\n\n\n\n    const addMovie = (mymovie) => {\n        const mymovie2 = {\n            id : match.params.id,\n            poster_path : movie.poster_path\n        }\n        dispatch(addMovieFavorites(mymovie2))\n        history.push('/favorites')\n    }\n\n    const removeMovie = (id) => {\n        dispatch(removeMovieFavorites(id))\n        history.push('/favorites')\n    }\n\n  \n    if (loading2 == false ) {\n        for (const iterator of favoriteMovies) {\n            if (iterator.id == match.params.id) {\n                inFavorites = true\n                break\n            } else {\n                inFavorites = false\n            } \n        }\n    }  \n\n    \n\n    return (\n        <>\n        \n        { loading ? <Loader /> :\n            <Row>\n                    <Col md={6}>\n                    <Image \n                            src={`https://image.tmdb.org/t/p/original/${movie.poster_path}`} \n                            fluid className=\"movieImage\" />\n                    </Col>\n                    <Col md={6}>\n                        <h3 className=\"movieDetailTitle\">{movie.title}</h3>\n                        <p className=\"movieDetailDescription\">{movie.overview}</p>\n                        <p className=\"movieDetailDescription\">Rating: {movie.vote_average}</p>\n                        <p className=\"movieDetailDescription\">\n                            <a target='_blank' \n                                href={`https://www.youtube.com/results?search_query=${movie.title}+trailer`}>\n                                Trailer\n                            </a>\n                        </p>\n                        { inFavorites ? \n                            <Button \n                            onClick={() => removeMovie(movie.id)}\n                            className=\"btn btn-primary btn-lg favButton2\">\n                            Remove from Favorites\n                            </Button>    \n                        :                    \n                            <Button \n                            onClick={() => addMovie(movie)}\n                            className=\"btn btn-primary btn-lg favButton\">\n                            Add To Favorites\n                            </Button> \n                        }\n                    </Col>\n            </Row>\n       }\n       </>\n    )\n}\n\nexport default Movie;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}