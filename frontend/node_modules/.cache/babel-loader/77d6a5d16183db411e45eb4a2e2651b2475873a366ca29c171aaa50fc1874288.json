{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useParams,Link}from'react-router-dom';import Loader from'./Loader';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Image,ListGroup,Card,Button,Form}from'react-bootstrap';import{listMovieDetails,addMovieFavorites,removeMovieFavorites,listMyFavorites}from'../actions/movieActions';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Movie=()=>{const dispatch=useDispatch();const navigate=useNavigate();const{id}=useParams();let inFavorites;let newTitle;const movieDetails=useSelector(state=>state.movieDetails);const{movie,loading}=movieDetails;const MovieFavorites=useSelector(state=>state.listMyFavorites);const{favoriteMovies,loading2}=MovieFavorites;const userLogin=useSelector(state=>state.userLogin);const{userInfo}=userLogin;useEffect(()=>{dispatch(listMovieDetails(id));dispatch(listMyFavorites());},[dispatch]);const addMovie=mymovie=>{const mymovie2={id,poster_path:movie.poster_path};dispatch(addMovieFavorites(mymovie2));navigate('/favorites');};const removeMovie=id=>{dispatch(removeMovieFavorites(id));navigate('/favorites');};if(loading2==false){for(const iterator of favoriteMovies){if(iterator.id==id){inFavorites=true;break;}else{inFavorites=false;}}}return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:\"https://image.tmdb.org/t/p/original/\".concat(movie.poster_path),fluid:true,className:\"movieImage\"})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(\"div\",{className:\"movieDetailHeader\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"movieDetailTitle\",children:movie.title}),/*#__PURE__*/_jsx(\"p\",{className:\"movieDetailDescription\",children:movie.overview}),/*#__PURE__*/_jsxs(\"p\",{className:\"movieDetailDescription\",children:[\"Rating: \",movie.vote_average]}),/*#__PURE__*/_jsx(\"p\",{className:\"movieDetailDescription\",children:/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"https://www.youtube.com/results?search_query=\".concat(movie.title,\"+trailer\"),children:\"Trailer\"})}),inFavorites?/*#__PURE__*/_jsx(Button,{onClick:()=>removeMovie(movie.id),className:\"btn btn-primary btn-lg favButton2\",children:\"Remove from Favorites\"}):/*#__PURE__*/_jsx(Button,{onClick:()=>addMovie(movie),className:\"btn btn-primary btn-lg favButton\",children:\"Add To Favorites\"})]})})]})});};export default Movie;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","Link","Loader","useDispatch","useSelector","Row","Col","Image","ListGroup","Card","Button","Form","listMovieDetails","addMovieFavorites","removeMovieFavorites","listMyFavorites","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Movie","dispatch","navigate","id","inFavorites","newTitle","movieDetails","state","movie","loading","MovieFavorites","favoriteMovies","loading2","userLogin","userInfo","addMovie","mymovie","mymovie2","poster_path","removeMovie","iterator","children","md","src","concat","fluid","className","title","overview","vote_average","target","href","onClick"],"sources":["/Users/juanluissv/Desktop/movies/frontend/src/components/Movie.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams, Link } from 'react-router-dom';\nimport Loader from './Loader'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap';\nimport { listMovieDetails, addMovieFavorites, removeMovieFavorites, listMyFavorites } from '../actions/movieActions';\n\nconst Movie = () => {\n\n    const dispatch = useDispatch()\n    const navigate = useNavigate();\n    const { id } = useParams();\n\n    let inFavorites;\n    let newTitle;\n    \n    const movieDetails = useSelector(state => state.movieDetails);\n    const { movie, loading } = movieDetails;\n\n    const MovieFavorites = useSelector(state => state.listMyFavorites)\n    const { favoriteMovies, loading2 } = MovieFavorites\n\n    const userLogin = useSelector((state) => state.userLogin)\n    const { userInfo } = userLogin\n\n    useEffect(() => {         \n        dispatch(listMovieDetails(id))\n        dispatch(listMyFavorites())          \n    },[dispatch])\n\n    const addMovie = (mymovie) => {\n        const mymovie2 = {\n            id,\n            poster_path : movie.poster_path\n        }\n        dispatch(addMovieFavorites(mymovie2))\n        navigate('/favorites')\n    }\n\n    const removeMovie = (id) => {\n        dispatch(removeMovieFavorites(id))\n        navigate('/favorites')\n    }\n\n    if (loading2 == false ) {\n        for (const iterator of favoriteMovies) {\n            if (iterator.id == id) {\n                inFavorites = true\n                break\n            } else {\n                inFavorites = false\n            } \n        }\n    }  \n\n    return (\n        <>\n        \n        { loading ? <Loader /> :\n            <Row>\n                    <Col md={6}>\n                    <Image \n                            src={`https://image.tmdb.org/t/p/original/${movie.poster_path}`} \n                            fluid className=\"movieImage\" />\n                    </Col>\n                    <Col md={6}>\n                        <div className=\"movieDetailHeader\">\n                            <h3 className=\"movieDetailTitle\">{movie.title}</h3>\n                            <p className=\"movieDetailDescription\">{movie.overview}</p>\n                            <p className=\"movieDetailDescription\">Rating: {movie.vote_average}</p>\n                            <p className=\"movieDetailDescription\">\n                                <a target='_blank' \n                                    href={`https://www.youtube.com/results?search_query=${movie.title}+trailer`}>\n                                    Trailer\n                                </a>\n                            </p>\n                            { inFavorites ? \n                                <Button \n                                onClick={() => removeMovie(movie.id)}\n                                className=\"btn btn-primary btn-lg favButton2\">\n                                Remove from Favorites\n                                </Button>    \n                            :                    \n                                <Button \n                                onClick={() => addMovie(movie)}\n                                className=\"btn btn-primary btn-lg favButton\">\n                                Add To Favorites\n                                </Button> \n                            }\n                        </div>\n                    </Col>\n            </Row>\n       }\n       </>\n    )\n}\n\nexport default Movie;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}